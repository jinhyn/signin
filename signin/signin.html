<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="1.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>회원가입</title>
</head>


<body>
    <div id="boder">

        <div class="mb-3 row">
            <div class="col-sm-10">
                아이디<br><input type="email" id="userid" name="email">
                <div id="idcheck"></div>
            </div>
        </div>


        <div class="mb-3 row">
            <div class="col-sm-10">
                비밀번호<br><input type="password" id="p1">
            </div>
        </div>

        <div class="mb-3 row">
            <div class="col-sm-10">
                비밀번호 확인<br><input type="text" id="p2">
                <input type="button" id="pascheck" value="비밀번호 확인">
            </div>
        </div>

        <div class="mb-3 row">
            <p class="col-sm-10">
                학번<br>
                <input type="name" id="target" maxlength="10">
            </p>
        </div>

        <div class="mb-3 row">
            <div class="col-sm-10">
                학과<br>
                <div id="major"></div>
            </div>
        </div>
        <div class="mb-3 row">
            <div class="col-sm-10">
                휴대폰 번호<br><input type="text" id="phonenumber" maxlength="13">
            </div>
        </div>

        <button class="signup" onclick="alert('asd')">
            sign up
        </button>

        <button id="cancle" onclick="location.href='http://127.0.0.1:5500/2.html'">
            cancle
        </button>


        <script>
/////////////////////////////////////////////////////////////////이메일형식 체크
            let id1 = document.getElementById('userid');

            id1.addEventListener('change', (e) => {  
                validEmail(e.target)
            })

            function validEmail(obj) {
                console.log(obj)
                if (validEmailCheck(obj) == true) {
                    document.getElementById('idcheck').innerHTML = "올바른 주소";
                    return true;
                }
                else {
                    document.getElementById('idcheck').innerHTML = "올바른 이메일 주소를 입력해주세요";
                }

            }

            function validEmailCheck(obj) {//정규식을 활용한 메일 형식 체크
                let pattern = "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,6}$"
                return (obj.value.match(pattern) != null)
            }


/////////////////////////////////////////////////////////////////////////비밀번호 확인 
            let p = document.getElementById('pascheck');
            p.addEventListener('click', function (event) {
                let p1 = document.getElementById('p1').value;
                let p2 = document.getElementById('p2').value;

                if (p1 != p2) {
                    alert('비밀번호불일치');

                } else {
                    alert('비밀번호가 일치합니다');
                }
                
            });
////////////////////////////////////////////////////////////////////////학과 변경
            let Snumber = document.getElementById('target');
            Snumber.addEventListener('change', function (event) {
                if(Snumber.value.substring(4,7)=='136')
                document.getElementById('major').innerHTML = "컴퓨터공학부";

                else{
                    document.getElementById('major').innerHTML = "";
                }
            });

///////////////////////////////////////////////////////////////////전화번호 자동 하이픈
            let phone = document.getElementById('phonenumber')

            phone.addEventListener('input', function (event) {
                phone.value = phone.value
                    .replace(/[^0-9]/g, '')//[^0-9]= 0-9까지를 제외하고 찾음
                    .replace(/^(\d{0,3})(\d{0,4})(\d{0,4})$/g, "$1-$2-$3")
                    .replace(/(\-{1,2})$/g, "");

            });
///////////////////////////////////////////////////////////////////////



        </script>
    </div>

</body>


</html>